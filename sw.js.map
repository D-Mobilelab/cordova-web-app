{"version":3,"sources":["webpack:///sw.js","webpack:///webpack/bootstrap 2686a3b07af50e211d3b","webpack:///./src/sw.js","webpack:///(webpack)/buildin/global.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","CACHE_NAME","Date","toISOString","assets","serviceWorkerOption","assetsToCache","arr","Array","isArray","arr2","length","from","self","addEventListener","event","console","log","waitUntil","caches","open","then","cache","addAll","skipWaiting","catch","error","keys","cacheNames","Promise","all","map","cacheName","delete","request","method","requestUrl","URL","url","href","indexOf","origin","location","promise","fetch","response","put","clone","match","respondWith","g","this","Function","eval","e","window"],"mappings":"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","file":"sw.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar CACHE_NAME = 'cache_' + new Date().toISOString();\nvar assets = global.serviceWorkerOption.assets;\n\nvar DEBUG = true;\n\nvar assetsToCache = [].concat(_toConsumableArray(assets), ['./', '/?utm_source=homescreen']);\n\n// When the service worker is first added to a computer.\nself.addEventListener('install', function (event) {\n    // Perform install steps.\n    if (DEBUG) {\n        console.log('[SW] Install event');\n    }\n\n    // Add core website files to cache during serviceworker installation.\n    event.waitUntil(global.caches.open(CACHE_NAME).then(function (cache) {\n        return cache.addAll(assetsToCache);\n    }).then(function () {\n        if (DEBUG) {\n            console.log('Cached assets: main', assetsToCache);\n        }\n        return self.skipWaiting();\n    }).catch(function (error) {\n        console.error(error);\n        throw error;\n    }));\n});\n\nself.addEventListener('activate', function (event) {\n    if (DEBUG) {\n        console.log('[SW] Activate event');\n    }\n\n    // Clean the cached static files if different\n    event.waitUntil(global.caches.keys().then(function (cacheNames) {\n        return Promise.all(cacheNames.map(function (cacheName) {\n            // Delete the old caches                    \n            if (cacheName !== CACHE_NAME) {\n                console.log('[SW] clear ' + cacheName);\n                return global.caches.delete(cacheName);\n            }\n        }));\n    }));\n});\n\nself.addEventListener('fetch', function (event) {\n    var request = event.request;\n    // Ignore not GET request.\n    if (request.method !== 'GET') {\n        if (DEBUG) {\n            console.log('[SW] Ignore non GET request ' + request.method);\n        }\n        return;\n    }\n\n    var requestUrl = new URL(request.url);\n    if (requestUrl.href.indexOf('sockjs-node') > -1) {\n        // ignore in webpack dev-server\n        console.log('[SW] Ignore socksjs-node ' + requestUrl.href);\n        return;\n    }\n\n    // Ignore different origin.\n    if (requestUrl.origin !== location.origin) {\n        if (DEBUG) {\n            console.log('[SW] Ignore different origin ' + requestUrl.origin);\n        }\n        return;\n    }\n\n    // Network(cache it), falling back to cache\n    var promise = fetch(request).then(function (response) {\n        return global.caches.open(CACHE_NAME).then(function (cache) {\n            // put it into the cache\n            cache.put(request, response.clone());\n            return response;\n        });\n    }).catch(function () {\n        return global.caches.match(request);\n    });\n    event.respondWith(promise);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// sw.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2686a3b07af50e211d3b","const CACHE_NAME = 'cache_' + new Date().toISOString();\nconst { assets } = global.serviceWorkerOption\nconst DEBUG = true;\n\nlet assetsToCache = [...assets, './', '/?utm_source=homescreen'];\n\n// When the service worker is first added to a computer.\nself.addEventListener('install', event => {\n    // Perform install steps.\n    if (DEBUG) {\n      console.log('[SW] Install event')\n    }\n  \n    // Add core website files to cache during serviceworker installation.\n    event.waitUntil(\n      global.caches\n        .open(CACHE_NAME)\n        .then(cache => {\n          return cache.addAll(assetsToCache)\n        })\n        .then(() => {\n          if (DEBUG) {\n            console.log('Cached assets: main', assetsToCache)\n          }\n          return self.skipWaiting();\n        })\n        .catch(error => {\n          console.error(error)\n          throw error\n        })\n    )\n});\n\nself.addEventListener('activate', event => {\n    if (DEBUG) {\n        console.log('[SW] Activate event')\n    }\n    \n    // Clean the cached static files if different\n    event.waitUntil(\n        global.caches.keys().then(cacheNames => {\n            return Promise.all(\n                    cacheNames.map(cacheName => {\n                    // Delete the old caches                    \n                    if (cacheName !== CACHE_NAME) {\n                        console.log(`[SW] clear ${cacheName}`);\n                        return global.caches.delete(cacheName)\n                    }              \n                })\n            )\n        })\n    );\n});\n\n\nself.addEventListener('fetch', event => {\n    const request = event.request;\n    // Ignore not GET request.\n    if (request.method !== 'GET') {\n      if (DEBUG) { console.log(`[SW] Ignore non GET request ${request.method}`) }\n      return;\n    }\n\n    const requestUrl = new URL(request.url);\n    if (requestUrl.href.indexOf('sockjs-node') > -1) {\n        // ignore in webpack dev-server\n        console.log(`[SW] Ignore socksjs-node ${requestUrl.href}`)\n        return;\n    }    \n    \n    // Ignore different origin.\n    if (requestUrl.origin !== location.origin) {\n        if (DEBUG) {\n            console.log(`[SW] Ignore different origin ${requestUrl.origin}`)\n        }\n        return\n    }\n    \n    // Network(cache it), falling back to cache\n    const promise = fetch(request)\n        .then((response) => {\n            return global.caches.open(CACHE_NAME)\n            .then(function(cache) {\n                // put it into the cache\n                cache.put(request, response.clone());\n                return response;\n            });\n        })\n        .catch(() => global.caches.match(request) );\n    event.respondWith(promise);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/sw.js","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\n} catch(e) {\n\t// This works if the window reference is available\n\tif(typeof window === \"object\")\n\t\tg = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}